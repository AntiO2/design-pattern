### 第21章: 状态模式

我必须承认:我的行为是由我的状态支配的。如果我没有足够的睡眠，我会有点累。如果我喝了酒，我就不会开车了。所有这些都是*状态(states)*，它们支配着我的行为:我的感受，我能做什么，我不能做什。

当然，我可以从一种状态转换到另一种状态。我可以去喝杯咖啡，它能让我从瞌睡中清醒过来(我希望如此!)所以我们可以把咖啡当作触发器，让你真正从困倦过渡到清醒。这里，让我笨拙地为你解释一下：

```c++
         coffee
sleepy ----------> alert
```

所以，状态设计模式是一个非常简单的想法:状态控制行为;状态可以改变;唯一的问题是*谁*引发了状态的变更。

基本上有两种方式:

- 状态是带有行为的实际类，这些行为将实际状态从一个转换到另一个
- 状态和转换只是枚举。我们有一个称为`状态机(state machine)`的特殊组件，它执行实际的转换。

这两种方法都是可行的，但实际上第二种方法是最常见的。这两种我们都会过一遍，但我必须承认我只会简单浏览第一个，因为这不是人们通常做事情的方式。


#### 状态驱动的状态机

#### 手工状态机

#### Boost.MSM 中的状态机

#### 总结